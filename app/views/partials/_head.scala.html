@import application_components.Application
@* Meta & PWA Declarations *@
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#3E5A97">
<link rel="manifest" href="@routes.Assets.at("manifest.json")">
<link rel="apple-touch-icon" sizes="180x180" href="@routes.Assets.at("images/icons/apple-touch-icon.png")">
<link rel="icon" type="image/png" sizes="32x32" href="@routes.Assets.at("images/icons/favicon-32x32.png")">
<link rel="icon" type="image/png" sizes="16x16" href="@routes.Assets.at("images/icons/favicon-16x16.png")">
<link rel="mask-icon" href="@routes.Assets.at("images/icons/safari-pinned-tab.svg")" color="#5bbad5">
<meta name="apple-mobile-web-app-title" content="TimeSlot">
<meta name="application-name" content="TimeSlot">
<meta name="msapplication-TileColor" content="#3E5A97">
@* Icons *@
<link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.ico")">
@* Stylesheets *@
<link rel="stylesheet" href="@routes.Assets.at("third_party/normalize/normalize.css")">
<link href="https://fonts.googleapis.com/css?family=Nunito|Open+Sans" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.4.1/firebaseui.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.print.min.css" media='print' />
<link rel="stylesheet" href="@routes.Assets.at("third_party/MDL/material_font.css")">
<link rel="stylesheet" href="@routes.Assets.at("third_party/steps/jquery-steps.css")">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.19/css/dataTables.bootstrap4.min.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css" />
<link rel="stylesheet" href="@routes.Assets.at("third_party/jquery-wizard/css/smart_wizard.css")">
<link rel="stylesheet" href="@routes.Assets.at("third_party/jquery-wizard/css/smart_wizard_theme_dots.css")">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.css" />
@* Add new stylesheets above this line *@
<link rel="stylesheet" href="@routes.Assets.at("lib/bootstrap/css/bootstrap.min.css")">
<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")?@Application.getConfig.getString("app.version")">
@* Scripts *@
<script type="text/javascript" src="@routes.Assets.at("javascripts/outdated.js")"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<script src="@routes.Assets.at("lib/bootstrap/js/bootstrap.min.js")"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.9/validator.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-range/4.0.1/moment-range.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.21/moment-timezone.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.21/moment-timezone-with-data.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.21/moment-timezone-utils.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.0/firebase.js"></script>
<script src="@routes.Assets.at("third_party/steps/jquery-steps.min.js")"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
<script src="@routes.Assets.at("third_party/palette/palette.js")"></script>
<script src="@routes.Assets.at("third_party/timetable/js/timetable.js")"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=@Application.getConfig.getString("googleAnalyticsUA")"></script>
<script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/assets/javascripts/service-worker.js')
                    .then(function (registration) {
                        console.log('Service Worker registration successful with scope: ',
                                registration.scope);
                    })
                    .catch(function (err) {
                        console.log('Service Worker registration failed: ', err);
                    });
        }

        let config = {
            apiKey: "@Application.getConfig.getString("authConfig.apiKey")",
            authDomain: "@Application.getConfig.getString("authConfig.authDomain")",
            databaseURL: "@Application.getConfig.getString("authConfig.databaseURL")",
            projectId: "@Application.getConfig.getString("authConfig.projectId")",
            storageBucket: "@Application.getConfig.getString("authConfig.storageBucket")",
            messagingSenderId: "@Application.getConfig.getString("authConfig.messagingSenderId")"
        };
        firebase.initializeApp(config);
        $(document).ready(function () {
            console.log('@Application.getConfig.getString("app.name")');
            const csrfToken = $('input[name="csrfToken"]').attr('value');
            $.ajaxSetup({
                beforeSend: function (xhr) {
                    $('#loader').fadeIn();
                    xhr.setRequestHeader('Csrf-Token', csrfToken);
                },
                complete: function () {
                    $('#loader').fadeOut();
                },
                success: function () {
                    $('#loader').fadeOut();
                }
            });
        });

        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', '@Application.getConfig.getString("googleAnalyticsUA")');

        moment.tz.setDefault('@Application.getConfig.getString("timeZone")');

</script>
<script src="@routes.Assets.at("javascripts/firebaseAuth.js")" type="text/javascript"></script>
